(self.webpackChunkflarum_core=self.webpackChunkflarum_core||[]).push([[247],{7681:(t,i,o)=>{"use strict";o.r(i),o.d(i,{default:()=>u});var e=o(1788),r=o(6366),s=o(7037),n=o(1698),a=o(5462),l=o(4967),u=function(t){function i(){return t.apply(this,arguments)||this}(0,e.Z)(i,t);var o=i.prototype;return o.oninit=function(i){t.prototype.oninit.call(this,i),this.value=this.attrs.value||"",this.disabled=!!this.attrs.disabled},o.view=function(){return m("div",{className:"TextEditor"},m("div",{className:"TextEditor-editorContainer"}),m("ul",{className:"TextEditor-controls Composer-footer"},(0,n.Z)(this.controlItems().toArray()),m("li",{className:"TextEditor-toolbar"},this.toolbarItems().toArray())))},o.oncreate=function(i){t.prototype.oncreate.call(this,i),this.attrs.composer.editor=this.buildEditor(this.$(".TextEditor-editorContainer")[0])},o.onupdate=function(){var t=!!this.attrs.disabled;this.disabled!==t&&(this.disabled=t,this.attrs.composer.editor.disabled(t))},o.buildEditorParams=function(){var t=this;return{classNames:["FormControl","Composer-flexible","TextEditor-editor"],disabled:this.disabled,placeholder:this.attrs.placeholder||"",value:this.value,oninput:this.oninput.bind(this),inputListeners:[],onsubmit:function(){t.onsubmit(),m.redraw()}}},o.buildEditor=function(t){return new l.Z(t,this.buildEditorParams())},o.controlItems=function(){var t=new s.Z;return t.add("submit",a.Z.component({icon:"fas fa-paper-plane",className:"Button Button--primary",itemClassName:"App-primaryControl",onclick:this.onsubmit.bind(this)},this.attrs.submitLabel)),this.attrs.preview&&t.add("preview",a.Z.component({icon:"far fa-eye",className:"Button Button--icon",onclick:this.attrs.preview,title:app.translator.trans("core.forum.composer.preview_tooltip"),oncreate:function(t){return $(t.dom).tooltip()}})),t},o.toolbarItems=function(){return new s.Z},o.oninput=function(t){this.value=t,this.attrs.onchange(this.value)},o.onsubmit=function(){this.attrs.onsubmit(this.value)},i}(r.Z)}}]);
//# sourceMappingURL=TextEditor.js.map